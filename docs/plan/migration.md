마이그레이션 전문가로서 **리스트형 Todo에서 캘린더형 Planner로의 전환**을 위한 최종 검토 및 고도화 플랜을 수립해 드립니다. 

단순한 UI 변경을 넘어, 데이터의 연속성과 사용자 경험(UX)을 보장하는 **5단계 마이그레이션 전략**입니다.

---

### 🔍 1. 마이그레이션 사전 검토 (Refinement & Risk Management)

개발 전, 다음과 같은 기술적 잠재 이슈를 해결하도록 설계에 반영했습니다.

*   **데이터 호환성(Legacy Data):** 기존에 저장된 할 일들에는 `dueDate` 필드가 없습니다. 마운트 시 `dueDate`가 없는 데이터에 오늘 날짜를 기본값으로 주입하는 보정 로직이 필요합니다.
*   **날짜 객체 직렬화:** `LocalStorage`는 Date 객체를 문자열로 저장합니다. 불러올 때 반드시 `new Date()`로 복원해야 캘린더 로직(isSameDay 등)이 작동합니다.
*   **모바일 가독성:** 7열 그리드는 모바일에서 좁습니다. 날짜 칸 내부의 텍스트 대신 '중요도 색상 점(Dot)'으로 표시하고, 클릭 시 상세 내용을 보는 UX를 채택합니다.

---

### 📅 2. 마이그레이션 개발 로드맵 (Task Lists)

#### **단계 1: 데이터 스키마 및 비즈니스 로직 고도화 (Core)**
기존 리스트 중심 로직에 '시간' 개념을 주입합니다.
*   **Task 1.1:** `types/todo.ts`에 `dueDate: Date` 속성 추가 및 입력 타입 수정.
*   **Task 1.2:** `lib/schemas/todoSchema.ts`의 Zod 검증 로직에 날짜 필드 추가.
*   **Task 1.3:** `hooks/use-todos.ts`의 `loadTodos` 함수 수정 (문자열 날짜를 `Date` 객체로 파싱하는 로직 추가).
*   **Task 1.4:** 기존 데이터 마이그레이션 로직 구현 (`dueDate`가 없는 항목에 `createdAt` 또는 현재 날짜 할당).

#### **단계 2: 다이아그램 기반 할 일 추가 시스템 (Entry UI)**
페이지 상단 입력창을 제거하고, 팝업(Dialog) 형태의 입력 환경을 구축합니다.
*   **Task 2.1:** shadcn/ui `Dialog`, `Calendar`, `Popover` 컴포넌트 설치.
*   **Task 2.2:** `TodoAddDialog` 컴포넌트 개발:
    *   내용 입력 (Textarea)
    *   우선순위 선택 (Select: 🔴높음, 🟡보통, 🟢낮음)
    *   날짜 선택 (DatePicker: 달력에서 마우스로 선택)
*   **Task 2.3:** 유효성 검사 적용 (내용 미입력 시 버튼 비활성화).

#### **단계 3: 캘린더 뷰 엔진 구축 (Main UI)**
날짜별 할 일을 격자 형태로 시각화합니다.
*   **Task 3.1:** `date-fns` 라이브러리를 이용한 월별 날짜 생성 로직 구현.
*   **Task 3.2:** `TodoCalendar` 레이아웃 구현 (7열 그리드).
*   **Task 3.3:** 날짜별 데이터 매핑 알고리즘 최적화 (`useMemo`를 사용하여 할 일을 날짜별로 그룹화).
*   **Task 3.4:** 중요도 기반 시각적 배지(Badge) 적용 (High: Red, Medium: Amber, Low: Green).

#### **단계 4: 인터랙션 및 애니메이션 고도화 (UX)**
Framer Motion을 사용해 캘린더 전환을 부드럽게 만듭니다.
*   **Task 4.1:** 월 변경 시 좌우 슬라이드 애니메이션 적용.
*   **Task 4.2:** 날짜 칸 호버(Hover) 및 클릭 시 미세한 스케일 업 효과.
*   **Task 4.3:** 할 일 완료 시 캘린더 내 항목 취소선 및 투명도 처리.
*   **Task 4.4:** (고도화) 캘린더의 특정 날짜를 클릭하면 해당 날짜가 미리 선택된 상태로 추가 다이얼로그 열기.

#### **단계 5: 최종 안정성 및 반응형 최적화 (QA)**
*   **Task 5.1:** 테마(다크/라이트)별 캘린더 그리드 및 텍스트 시인성 점검.
*   **Task 5.2:** 모바일 환경에서의 캘린더 터치 타겟 크기 확보.
*   **Task 5.3:** 대량의 할 일(100개 이상)이 있을 경우 캘린더 렌더링 성능 테스트.

---

### 💡 전문가의 조언 (Architecture Tip)

1.  **Context API 전환 검토:** 할 일 추가 다이얼로그가 어디서든(헤더, 날짜 칸, 플로팅 버튼) 열려야 하므로, `isDialogOpen` 상태와 `selectedDate` 상태를 별도의 전역 상태(Context)로 관리하면 프롭 드릴링(Prop Drilling)을 방지할 수 있습니다.
2.  **색상 접근성:** 중요도를 색상으로만 구분하면 색약 사용자가 어려울 수 있습니다. 배지 내부에 아이콘(예: ‼️, ⚠️, ✅)을 병행 표기하는 것이 좋습니다.
3.  **데이터 무결성:** `LocalStorage` 마이그레이션 시, `JSON.parse` 이후 `todo.dueDate = new Date(todo.dueDate)` 처리를 잊지 마세요. 이 과정이 없으면 `date-fns` 함수들이 `invalid date` 에러를 발생시킵니다.

위 Task 순서대로 진행하시면 **리스트 기반의 앱을 성공적인 캘린더 플래너로 마이그레이션** 할 수 있습니다. 개발을 시작할 준비가 되셨나요? 구체적인 코드 구현이 필요한 Task가 있다면 말씀해 주세요.